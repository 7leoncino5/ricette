<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Focaccia Genovese – Calcolatore</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    max-width: 600px;
    margin: 40px auto;
    padding: 16px;
  }
  h1 { margin-bottom: 0.5rem; }
  label { font-weight: 600; display: block; margin-top: 1rem; }
  input, select {
    width: 100%;
    padding: 8px;
    font-size: 1rem;
  }
  button {
    margin-top: 1.2rem;
    padding: 10px 16px;
    font-size: 1rem;
    border: none;
    border-radius: 6px;
    background: #222;
    color: #fff;
    cursor: pointer;
  }
  .results {
    margin-top: 24px;
    padding: 16px;
    background: #f5f5f5;
    border-radius: 8px;
  }
</style>
</head>
<body>

<h1>Focaccia Genovese</h1>
<p>
  Calcolatore ingredienti per teglie <strong>40×30 cm</strong><br>
  Idratazione: <strong>60%</strong>
</p>

<label>Numero di teglie</label>
<input type="number" id="trays" min="1" value="1">

<label>Tipo di lievito</label>
<select id="yeastType">
  <option value="dry">Lievito secco</option>
  <option value="fresh">Lievito fresco</option>
</select>

<button onclick="calc()">Calcola</button>

<div id="results" class="results" style="display:none;">
  <h2>Dosi totali</h2>
  <p><strong>Farina:</strong> <span id="flour"></span> g</p>
  <p><strong>Acqua (60%):</strong> <span id="water"></span> g</p>
  <p><strong>Olio EVO:</strong> <span id="oil"></span> g</p>
  <p><strong>Strutto:</strong> <span id="lard"></span> g</p>
  <p><strong>Sale:</strong> <span id="salt"></span> g</p>
  <p><strong>Lievito:</strong> <span id="yeast"></span> g</p>
  <p><strong>Malto:</strong> <span id="malt"></span> g</p>

  <hr>

  <p><strong>Peso totale impasto:</strong> <span id="dough"></span> g</p>
  <p><strong>Numero panetti (1 per teglia):</strong> <span id="balls"></span></p>
  <p><strong>Peso stimato per panetto:</strong> <span id="ballWeight"></span> g</p>
</div>

<script>
function round(v) {
  return Math.round(v);
}

function calc() {
  const trays = parseInt(document.getElementById("trays").value);
  const yeastType = document.getElementById("yeastType").value;

  if (!trays || trays <= 0) {
    alert("Inserisci un numero valido di teglie.");
    return;
  }

  // Base per 1 teglia 40×30
  const flourBase = 275;
  const waterBase = 165;
  const oilBase = 12.5;
  const lardBase = 12.5;
  const saltBase = 6;
  const yeastDryBase = 3;
  const yeastFreshBase = 6;
  const maltBase = 7.5;

  const flour = flourBase * trays;
  const water = waterBase * trays;
  const oil = oilBase * trays;
  const lard = lardBase * trays;
  const salt = saltBase * trays;
  const malt = maltBase * trays;

  const yeast = yeastType === "dry"
    ? yeastDryBase * trays
    : yeastFreshBase * trays;

  const dough = flour + water + oil + lard + salt + yeast + malt;

  const balls = trays;                      // 1 panetto per teglia
  const ballWeight = dough / balls;        // peso stimato per panetto

  document.getElementById("flour").textContent = round(flour);
  document.getElementById("water").textContent = round(water);
  document.getElementById("oil").textContent = round(oil);
  document.getElementById("lard").textContent = round(lard);
  document.getElementById("salt").textContent = round(salt);
  document.getElementById("yeast").textContent = round(yeast);
  document.getElementById("malt").textContent = round(malt);
  document.getElementById("dough").textContent = round(dough);

  document.getElementById("balls").textContent = balls;
  document.getElementById("ballWeight").textContent = round(ballWeight);

  document.getElementById("results").style.display = "block";
}
</script>

</body>
</html>
